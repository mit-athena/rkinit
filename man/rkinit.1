.\" 
.\" $Header: /afs/dev.mit.edu/source/repository/athena/bin/rkinit/man/rkinit.1,v 1.3 1989-09-29 16:13:31 qjb Exp $
.\" $Source: /afs/dev.mit.edu/source/repository/athena/bin/rkinit/man/rkinit.1,v $
.\" $Author: qjb $
.\"
.\"
.TH RKINIT 1 "January 20, 1988"
.UC 4
.SH NAME
rkinit \- establish kerberos tickets safely on a remote host
.SH SYNOPSIS
.B rkinit host [-u username] [-l localname] [-k kerberos realm]
[-notimeout]
.SH DESCRIPTION
.I rkinit
is a program that allows a user with valid kerberos tickets to
establish tickets on a remote registered for rlogin service.
This can be done without the user's kerberos password ever leave
the client machine.

In the current implementation, the rkinit server, 
.I rkinitd,
places the ticket file on the remote host in the default
location.  On a UNIX host, this is /tmp/tkt<uid>, where
<uid> is the user id of the person who owns the ticket file.

Without the use of something like 
.I rkinit, 
in order to
establish tickets remotely, one would have to log in to the
remote host.  
.I rkinit 
followed by rlogin can be used for this
instead of rlogin followed kinit.

If no commandline arguments are given, 
.I rkinit
will prompt for a password and effectively replicate the
invoker's tickets on the
specified remote host.  These tickets will be owned on the remote host
by the user who invoked rkinit and will be for the local realm of the
remote host.
.I rkinit 
can be used to create any tickets on a remote host and have those
tickets be owned by any user to whom they entitle a login.
Thus, the invoker can create tickets for a user if he is in that
user's .klogin file.  
.I rkinit
always tells the invoker whose password should be entered.  The
kerberos realm of the tickets to be obtained is printed if either a
realm is specified in the 
.I username
field explained below or if the client's idea of the 
realm of the remote host is different
from the client's local realm.
.I rkinit
will also tell the invoker who is to own the tickets if the user who will own
the tickets is different from the name of the principal.

If 
.I username
is specified, in the format 
.I name[.inst][@realm] 
is specified, the tickets create on the remote host will be the
tickets indicated by the 
.I username
field.  The password you should supply is the password for these
tickets.  If 
.I localname
is specified, the ticket file on the remote host will be owned by the
user 
.I
localname.
You should still supply the password for your current tickets or the
password required to obtain 
.I
username
tickets if specified.
.I Kerberos realm
should be used if the host on which you are creating tickets is in a
kerberos realm recognized by the client host but the host's kerberos
realm is not specified in krb.realms.  If the realm of the remote host
is specified, however, this parameter is not necessary.
.I -notimeout
prevents the client from timing out which it would otherwise do in
thirty seconds.

If you do not specify an explicit realm in the 
.I username
field of rkinit, you will be prompted for tickets in the local realm
of the remote host.  Thus, if you use 
.I rkinit
to establish tickets on a remote host in a different kerberos realm
and you do not specify a realm name explicitly in the 
.I username
field, rather than "copying" your tickets exactly, 
.I rkinit
will try to establish tickets whose principal and instance match but
whose realm is the local realm of the remote host.

The same access checks that are used by rlogin are used by rkinit.  In
order for you to create 
.I username
tickets owned by
.I localname
on a remote host, you must be able to login to the remote host as
.I localname
using 
.I username
tickets.

.SH EXAMPLES
% rkinit priam
.br
Kerberos initialization (priam)
.br
Password for qjb:
.br
% 
.br

.br
% rkinit charon -u qjb.root 
.br
Kerberos initialization (charon)
.br
Password for qjb.root:
.br
% 

% rkinit soup -l local
.br
Kerberos initialization (soup): tickets will be owned by local
.br
Password for qjb:
.br
% 

Note that dodo is a host in the SMS_TEST.MIT.EDU kerberos realm.

% rkinit dodo 
.br
Kerberos initialization (dodo)
.br
Password for qjb@SMS_TEST.MIT.EDU:
.br
%

.SH NOTE
Since 
.I rkinit 
creates the ticket file in a fixed place for a given user, it is
possible for one user to create tickets that will overwrite other
tickets owned by the same user.  This will ordinarily not be a problem
since the usual case is that you can only create tickets for yourself.
The principal exception, however, is root.  If you create tickets for
yourself to be owned by root on the remote host, it is a good idea to
rename the ticket file from /tmp/tkt0 and set the environment 
variable KRBTKFILE appropriately.

.SH BUGS
Only one 
.I rkinit
can be run to a given server at a time.

.SH FUTURE EXPANSION
It might be good for the user running 
.I rkinit 
to be able to specify the
name of the ticket file and for
.I rkinitd 
to be smarter about where to put tickets owned by root.

.SH SEE ALSO
rkinitd(8)

.SH AUTHOR
Emanuel Jay Berkenbilt (MIT-Project Athena)
